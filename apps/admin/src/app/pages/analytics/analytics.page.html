<div class="page">
  <div class="header">
    <div class="title">Analytics</div>
    <div class="actions">
      <button class="btn" type="button" (click)="refresh()" [disabled]="loading()">Refresh</button>
    </div>
  </div>

  <div class="card">
    <div class="error" *ngIf="error()">{{ error() }}</div>

    <div class="kpis">
      <div class="kpi">
        <div class="kpi-label">Total orders</div>
        <div class="kpi-value">{{ totalOrders() }}</div>
      </div>
      <div class="kpi">
        <div class="kpi-label">Total revenue</div>
        <div class="kpi-value">{{ totalRevenue() | number : '1.0-2' }}</div>
      </div>
    </div>

    <div class="grid">
      <div class="section">
        <div class="section-title">Orders by status</div>
        <div class="chart" #statusChart></div>
      </div>

      <div class="section">
        <div class="section-title">Revenue over time</div>
        <div class="chart" #revenueChart></div>
      </div>
    </div>
  </div>
</div>

